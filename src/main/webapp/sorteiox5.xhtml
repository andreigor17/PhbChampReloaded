<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="vercel.xhtml">

    <ui:define name="content">
        <h:form id="formSorteioX5" enctype="multipart/form-data">

            <!-- Header -->
            <div class="header-container">
                <div class="header-content">
                    <div class="header-left">
                        <div class="header-icon-wrapper">
                            <i class="pi pi-bolt header-icon"></i>
                        </div>
                        <div>
                            <h1 class="header-title">Sorteio x5</h1>
                            <p class="header-subtitle">Selecione os jogadores para sortear os times automaticamente</p>
                        </div>
                    </div>
                    <p:commandButton value="Cadastrar Player" 
                                     icon="pi pi-user-plus"
                                     styleClass="btn-outline"
                                     action="/criarPlayer?faces-redirect=true" />
                </div>
            </div>

           
            <!-- Main Content Grid -->
            <div class="main-grid">
                
                <!-- Available Players -->
                <div class="players-section">
                    <div class="section-card">
                        <div class="section-header">
                            <div class="section-icon-wrapper">
                                <i class="pi pi-users"></i>
                            </div>
                            <h2 class="section-title">Players Disponíveis</h2>
                            <span class="section-badge">#{managerPartida.playerGroupList.source.size()}</span>
                        </div>

                        <div class="search-wrapper">
                            <p:inputText id="searchAvailable" 
                                         placeholder="Buscar por nick ou nome..."
                                         styleClass="search-input">
                                <p:ajax event="keyup" 
                                        update="availablePlayersList" 
                                        process="@this" />
                            </p:inputText>
                        </div>

                        <div class="players-list-wrapper">
                            <p:dataList id="availablePlayersList"
                                        value="#{managerPartida.playerGroupList.source}"
                                        var="player"
                                        type="none"
                                        styleClass="players-data-list">
                                <div class="player-card-wrapper">
                                    <p:commandLink styleClass="player-card-link"
                                                   process="@form"
                                                   update="@form"
                                                   actionListener="#{managerPartida.adicionarPlayer(player)}">
                                        <div class="player-card">
                                            <div class="player-avatar-wrapper">
                                                <h:panelGroup rendered="#{player.anexo ne null}">
                                                    <p:graphicImage value="image/#{player.anexo.nome}" 
                                                                    styleClass="player-avatar-img" />
                                                </h:panelGroup>
                                                <h:panelGroup rendered="#{player.anexo eq null}">
                                                    <div class="player-avatar-placeholder">
                                                        #{player.nome != null and player.nome.length() > 0 ? player.nome.substring(0,1) : 'P'}
                                                    </div>
                                                </h:panelGroup>
                                                <div class="player-add-icon">
                                                    <i class="pi pi-plus"></i>
                                                </div>
                                            </div>
                                            <div class="player-info">
                                                <div class="player-nick">#{player.nick}</div>
                                                <div class="player-name">#{player.nome} #{player.sobreNome}</div>
                                            </div>
                                        </div>
                                    </p:commandLink>
                                </div>
                            </p:dataList>
                        </div>
                    </div>
                </div>

                <!-- Selected Players -->
                <div class="players-section">
                    <div class="section-card">
                        <div class="section-header">
                            <div class="section-icon-wrapper selected">
                                <i class="pi pi-check-circle"></i>
                            </div>
                            <h2 class="section-title">Players Selecionados</h2>
                            <span class="section-badge selected">#{managerPartida.playerGroupList.target.size()}/10</span>
                        </div>

                        <div class="players-list-wrapper">
                            <h:panelGroup rendered="#{managerPartida.playerGroupList.target.size() eq 0}">
                                <div class="empty-state">
                                    <i class="pi pi-check-circle empty-icon"></i>
                                    <p class="empty-title">Nenhum jogador selecionado</p>
                                    <p class="empty-subtitle">Selecione jogadores da lista ao lado</p>
                                </div>
                            </h:panelGroup>

                            <p:dataList id="selectedPlayersList"
                                        value="#{managerPartida.playerGroupList.target}"
                                        var="player"
                                        type="none"
                                        styleClass="players-data-list"
                                        rendered="#{managerPartida.playerGroupList.target.size() gt 0}">
                                <div class="selected-player-card">
                                    <div class="player-avatar-wrapper">
                                        <h:panelGroup rendered="#{player.anexo ne null}">
                                            <p:graphicImage value="image/#{player.anexo.nome}" 
                                                            styleClass="player-avatar-img" />
                                        </h:panelGroup>
                                        <h:panelGroup rendered="#{player.anexo eq null}">
                                            <div class="player-avatar-placeholder selected">
                                                #{player.nome != null and player.nome.length() > 0 ? player.nome.substring(0,1) : 'P'}
                                            </div>
                                        </h:panelGroup>
                                        <div class="player-number">
                                            #{managerPartida.playerGroupList.target.indexOf(player) + 1}
                                        </div>
                                    </div>
                                    <div class="player-info">
                                        <div class="player-nick">#{player.nick}</div>
                                        <div class="player-name">#{player.nome} #{player.sobreNome}</div>
                                    </div>
                                    <p:commandButton icon="pi pi-times"
                                                     styleClass="btn-remove"
                                                     process="@this"
                                                     update="@form"
                                                     actionListener="#{managerPartida.excluir()}">
                                        <f:setPropertyActionListener target="#{managerPartida.selectedPlayer}" 
                                                                     value="#{player}" />
                                    </p:commandButton>
                                </div>
                            </p:dataList>

                            <h:panelGroup rendered="#{managerPartida.playerGroupList.target.size() gt 0 and managerPartida.playerGroupList.target.size() lt 10}">
                                <div class="info-message warning">
                                    Adicione mais <strong>#{10 - managerPartida.playerGroupList.target.size()}</strong> 
                                    jogador#{10 - managerPartida.playerGroupList.target.size() ne 1 ? 'es' : ''} para continuar
                                </div>
                            </h:panelGroup>

                            <h:panelGroup rendered="#{managerPartida.playerGroupList.target.size() eq 10}">
                                <div class="info-message success">
                                    ✓ Todos os jogadores selecionados! Você pode avançar.
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="actions-card">
                        <div class="actions-buttons">
                            <p:commandButton value="Cancelar" 
                                             icon="pi pi-times"
                                             styleClass="btn-outline"
                                             action="/indexPartida?faces-redirect=true"
                                             immediate="true"
                                             process="@this" />
                            <p:commandButton value="Avançar" 
                                             icon="pi pi-arrow-right"
                                             styleClass="btn-primary"
                                             actionListener="#{managerPartida.verificarPlayers()}"
                                             disabled="#{managerPartida.playerGroupList.target.size() ne 10}"
                                             process="@form"
                                             update="@form" />
                        </div>
                    </div>
                </div>

            </div>

            <!-- Dialog: Configurar Sorteio -->
            <p:dialog id="confirmarCriacaoX5Dialog"
                      widgetVar="confirmarCriacaoX5Dialog"
                      header="Configurar Sorteio"
                      modal="true"
                      resizable="false"
                      draggable="false"
                      closeOnEscape="true"
                      showEffect="fade"
                      hideEffect="fade"
                      width="600"
                      styleClass="modern-dialog">

                <div class="dialog-content">
                    <!-- Info Box -->
                    <div class="dialog-info-box">
                        <div class="dialog-info-icon">
                            <i class="pi pi-info-circle"></i>
                        </div>
                        <div>
                            <h4 class="dialog-info-title">Como funciona?</h4>
                            <p class="dialog-info-text">
                                Os jogadores selecionados serão divididos aleatoriamente em dois times 
                                equilibrados. Você pode escolher o formato da partida (MD1, MD3 ou MD5).
                            </p>
                        </div>
                    </div>

                    <!-- Nomes dos Times -->
                    <div class="dialog-section">
                        <div class="dialog-section-header">
                            <i class="pi pi-users"></i>
                            <h3>Nomes dos Times</h3>
                        </div>
                        <div class="dialog-grid">
                            <div class="dialog-field">
                                <label for="nomeTime1" class="dialog-label">
                                    <span class="team-color blue"></span>
                                    Time 1
                                </label>
                                <p:inputText id="nomeTime1" 
                                             value="#{managerPartida.nomeTime1}"
                                             placeholder="Ex: Time Azul"
                                             styleClass="dialog-input" />
                            </div>
                            <div class="dialog-field">
                                <label for="nomeTime2" class="dialog-label">
                                    <span class="team-color red"></span>
                                    Time 2
                                </label>
                                <p:inputText id="nomeTime2" 
                                             value="#{managerPartida.nomeTime2}"
                                             placeholder="Ex: Time Vermelho"
                                             styleClass="dialog-input" />
                            </div>
                        </div>
                    </div>

                    <!-- Formato da Partida -->
                    <div class="dialog-section">
                        <div class="dialog-section-header">
                            <i class="pi pi-calendar"></i>
                            <h3>Formato da Partida</h3>
                        </div>
                        
                        <p:selectOneRadio id="formatoPartida" 
                                          value="#{managerPartida.qtdItensPartidas}"
                                          styleClass="modern-radio-group">
                            <f:selectItem itemLabel="MD1 (Melhor de 1)" itemValue="1" 
                                          itemDescription="Partida única decisiva" />
                            <f:selectItem itemLabel="MD3 (Melhor de 3)" itemValue="3" 
                                          itemDescription="Vence quem ganhar 2 mapas primeiro" />
                            <f:selectItem itemLabel="MD5 (Melhor de 5)" itemValue="5" 
                                          itemDescription="Vence quem ganhar 3 mapas primeiro" />
                        </p:selectOneRadio>

                        <div class="dialog-hint">
                            <i class="pi pi-question-circle"></i>
                            <span>MD = Melhor de X mapas. O vencedor será quem ganhar mais mapas.</span>
                        </div>
                    </div>

                    <!-- Dialog Actions -->
                    <div class="dialog-actions">
                        <p:commandButton value="Cancelar"
                                         icon="pi pi-times"
                                         styleClass="btn-dialog-cancel"
                                         oncomplete="PF('confirmarCriacaoX5Dialog').hide();"
                                         process="@this" />
                        <p:commandButton value="Sortear Times"
                                         icon="pi pi-random"
                                         styleClass="btn-dialog-primary"
                                         process="@form"
                                         update="@form"
                                         actionListener="#{managerPartida.sorteioX5()}" />
                    </div>
                </div>
            </p:dialog>

        </h:form>

        <style>
            :root {
                --bg-primary: #0f1419;
                --bg-secondary: #1a1f26;
                --bg-card: #1e2430;
                --bg-hover: #252b38;
                
                --text-primary: #f5f7fa;
                --text-secondary: #9ca3af;
                --text-muted: #6b7280;
                
                --accent: #00e1ff;
                --accent-dark: #00b8d4;
                --accent-light: #33e7ff;
                
                --border: #2d3340;
                --border-light: #3d4452;
                
                --success: #22c55e;
                --warning: #f59e0b;
                --danger: #ef4444;
                
                --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
                --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
                --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
                --shadow-accent: 0 4px 16px rgba(0, 225, 255, 0.2);
                
                --radius: 12px;
                --radius-sm: 8px;
                --radius-lg: 16px;
            }

            body {
                background: var(--bg-primary);
                color: var(--text-primary);
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            }

            /* Header */
            .header-container {
                background: var(--bg-card);
                border-bottom: 1px solid var(--border);
                box-shadow: var(--shadow-md);
                margin-bottom: 2rem;
            }

            .header-content {
                max-width: 1400px;
                margin: 0 auto;
                padding: 1.5rem 2rem;
                display: flex;
                justify-content: space-between;
                align-items: center;
                gap: 1.5rem;
                flex-wrap: wrap;
            }

            .header-left {
                display: flex;
                align-items: center;
                gap: 1rem;
                flex: 1;
            }

            .header-icon-wrapper {
                padding: 0.75rem;
                background: rgba(0, 225, 255, 0.1);
                border-radius: var(--radius-sm);
            }

            .header-icon {
                font-size: 2rem;
                color: var(--accent);
            }

            .header-title {
                font-size: 2.5rem;
                font-weight: 700;
                margin: 0 0 0.25rem 0;
                color: var(--text-primary);
            }

            .header-subtitle {
                font-size: 1.125rem;
                color: var(--text-secondary);
                margin: 0;
            }

            /* Progress Card */
            .progress-card {
                max-width: 1400px;
                margin: 0 auto 2rem;
                padding: 1.5rem 2rem;
                background: var(--bg-card);
                border: 1px solid var(--border);
                border-radius: var(--radius-lg);
                box-shadow: var(--shadow-md);
            }

            .progress-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 1.5rem;
                gap: 1.5rem;
                flex-wrap: wrap;
            }

            .progress-info {
                display: flex;
                align-items: center;
                gap: 1rem;
                flex: 1;
            }

            .progress-icon-wrapper {
                padding: 0.5rem;
                background: rgba(0, 225, 255, 0.1);
                border-radius: var(--radius-sm);
            }

            .progress-icon-wrapper i {
                font-size: 1.25rem;
                color: var(--accent);
            }

            .progress-title {
                font-size: 1.25rem;
                font-weight: 600;
                margin: 0 0 0.25rem 0;
                color: var(--text-primary);
            }

            .progress-subtitle {
                font-size: 0.875rem;
                color: var(--text-secondary);
                margin: 0;
            }

            .progress-counter {
                text-align: right;
            }

            .counter-number {
                font-size: 2rem;
                font-weight: 700;
                color: var(--accent);
                line-height: 1;
            }

            .counter-label {
                font-size: 0.875rem;
                color: var(--text-secondary);
            }

            .progress-bar-wrapper {
                width: 100%;
                height: 12px;
                background: var(--bg-secondary);
                border-radius: 999px;
                overflow: hidden;
            }

            .progress-bar-fill {
                height: 100%;
                background: linear-gradient(90deg, var(--accent), var(--accent-light));
                border-radius: 999px;
                transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            }

            /* Main Grid */
            .main-grid {
                max-width: 1400px;
                margin: 0 auto;
                padding: 0 2rem 2rem;
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }

            @media (max-width: 1024px) {
                .main-grid {
                    grid-template-columns: 1fr;
                }
            }

            /* Section Card */
            .section-card {
                background: var(--bg-card);
                border: 1px solid var(--border);
                border-radius: var(--radius-lg);
                padding: 1.5rem;
                box-shadow: var(--shadow-md);
            }

            .section-header {
                display: flex;
                align-items: center;
                gap: 0.75rem;
                margin-bottom: 1.5rem;
            }

            .section-icon-wrapper {
                padding: 0.5rem;
                background: var(--bg-secondary);
                border-radius: var(--radius-sm);
            }

            .section-icon-wrapper.selected {
                background: rgba(0, 225, 255, 0.1);
            }

            .section-icon-wrapper i {
                font-size: 1.25rem;
                color: var(--text-primary);
            }

            .section-icon-wrapper.selected i {
                color: var(--accent);
            }

            .section-title {
                font-size: 1.5rem;
                font-weight: 700;
                margin: 0;
                flex: 1;
                color: var(--text-primary);
            }

            .section-badge {
                font-size: 0.875rem;
                font-weight: 500;
                padding: 0.375rem 0.75rem;
                background: var(--bg-secondary);
                color: var(--text-secondary);
                border-radius: 999px;
            }

            .section-badge.selected {
                background: rgba(0, 225, 255, 0.1);
                color: var(--accent);
            }

            /* Search */
            .search-wrapper {
                margin-bottom: 1.5rem;
            }

            .search-input {
                width: 100%;
                padding: 0.75rem 1rem;
                background: var(--bg-primary);
                border: 1px solid var(--border);
                border-radius: var(--radius-sm);
                color: var(--text-primary);
                font-size: 0.9375rem;
                transition: all 0.2s ease;
            }

            .search-input:focus {
                border-color: var(--accent);
                box-shadow: 0 0 0 3px rgba(0, 225, 255, 0.1);
                outline: none;
            }

            .search-input::placeholder {
                color: var(--text-muted);
            }

            /* Players List */
            .players-list-wrapper {
                max-height: 600px;
                overflow-y: auto;
                padding-right: 0.5rem;
            }

            .players-list-wrapper::-webkit-scrollbar {
                width: 8px;
            }

            .players-list-wrapper::-webkit-scrollbar-track {
                background: var(--bg-secondary);
                border-radius: 4px;
            }

            .players-list-wrapper::-webkit-scrollbar-thumb {
                background: rgba(0, 225, 255, 0.3);
                border-radius: 4px;
            }

            .players-list-wrapper::-webkit-scrollbar-thumb:hover {
                background: var(--accent);
            }

            .players-data-list {
                display: flex;
                flex-direction: column;
                gap: 0.75rem;
                list-style: none;
                padding: 0;
                margin: 0;
            }

            /* Player Card Wrapper */
            .player-card-wrapper {
                width: 100%;
            }

            /* Player Card Link - Estilização completa */
            .player-card-link,
            a.player-card-link {
                display: block;
                width: 100%;
                text-decoration: none;
                color: inherit;
                cursor: pointer;
            }
            
            .player-card-link:link,
            .player-card-link:visited,
            .player-card-link:hover,
            .player-card-link:active,
            a.player-card-link:link,
            a.player-card-link:visited,
            a.player-card-link:hover,
            a.player-card-link:active {
                text-decoration: none;
                color: inherit;
            }

            /* Player Card */
            .player-card {
                display: flex;
                align-items: center;
                gap: 1rem;
                padding: 1rem;
                background: var(--bg-secondary);
                border: 1px solid var(--border);
                border-radius: var(--radius);
                cursor: pointer;
                transition: all 0.3s ease;
                position: relative;
                width: 100%;
            }

            .player-card-link:hover .player-card {
                border-color: rgba(0, 225, 255, 0.5);
                box-shadow: 0 4px 12px rgba(0, 225, 255, 0.15);
                transform: translateY(-2px);
            }

            .player-avatar-wrapper {
                position: relative;
                flex-shrink: 0;
            }

            .player-avatar-img,
            .player-avatar-placeholder {
                width: 56px;
                height: 56px;
                border-radius: 50%;
                object-fit: cover;
            }

            .player-avatar-placeholder {
                background: linear-gradient(135deg, rgba(0, 225, 255, 0.2), rgba(0, 225, 255, 0.05));
                border: 2px solid rgba(0, 225, 255, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 700;
                font-size: 1.25rem;
                color: var(--text-primary);
            }

            .player-avatar-placeholder.selected {
                background: linear-gradient(135deg, rgba(0, 225, 255, 0.3), rgba(0, 225, 255, 0.1));
                border-color: rgba(0, 225, 255, 0.5);
            }

            .player-add-icon {
                position: absolute;
                bottom: -4px;
                right: -4px;
                width: 24px;
                height: 24px;
                background: var(--accent);
                border: 2px solid var(--bg-card);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .player-card-link:hover .player-add-icon {
                opacity: 1;
            }

            .player-add-icon i {
                font-size: 0.75rem;
                color: var(--bg-primary);
            }

            .player-info {
                flex: 1;
                min-width: 0;
            }

            .player-nick {
                font-size: 1.125rem;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 0.25rem;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            .player-name {
                font-size: 0.875rem;
                color: var(--text-secondary);
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            /* Selected Player Card */
            .selected-player-card {
                display: flex;
                align-items: center;
                gap: 1rem;
                padding: 1rem;
                background: linear-gradient(90deg, rgba(0, 225, 255, 0.05), transparent);
                border: 1px solid rgba(0, 225, 255, 0.2);
                border-radius: var(--radius);
                transition: all 0.3s ease;
                animation: slideIn 0.3s ease;
            }

            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateX(20px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            .selected-player-card:hover {
                border-color: rgba(0, 225, 255, 0.5);
                box-shadow: var(--shadow-accent);
            }

            .player-number {
                position: absolute;
                top: -4px;
                right: -4px;
                width: 24px;
                height: 24px;
                background: var(--accent);
                border: 2px solid var(--bg-card);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 0.75rem;
                font-weight: 700;
                color: var(--bg-primary);
            }

            /* Empty State */
            .empty-state {
                text-align: center;
                padding: 3rem 1.5rem;
                border: 2px dashed var(--border);
                border-radius: var(--radius);
            }

            .empty-icon {
                font-size: 3rem;
                color: var(--text-muted);
                margin-bottom: 1rem;
                opacity: 0.5;
            }

            .empty-title {
                font-size: 1rem;
                font-weight: 600;
                color: var(--text-primary);
                margin: 0 0 0.5rem 0;
            }

            .empty-subtitle {
                font-size: 0.875rem;
                color: var(--text-secondary);
                margin: 0;
            }

            /* Info Messages */
            .info-message {
                margin-top: 1rem;
                padding: 0.875rem 1rem;
                border-radius: var(--radius-sm);
                font-size: 0.875rem;
                text-align: center;
            }

            .info-message.warning {
                background: rgba(245, 158, 11, 0.1);
                border: 1px solid rgba(245, 158, 11, 0.3);
                color: var(--warning);
            }

            .info-message.success {
                background: rgba(34, 197, 94, 0.1);
                border: 1px solid rgba(34, 197, 94, 0.3);
                color: var(--success);
            }

            /* Actions Card */
            .actions-card {
                background: var(--bg-card);
                border: 1px solid var(--border);
                border-radius: var(--radius-lg);
                padding: 1.5rem;
                box-shadow: var(--shadow-md);
                margin-top: 1rem;
            }

            .actions-buttons {
                display: flex;
                justify-content: flex-end;
                gap: 0.75rem;
            }

            /* Buttons */
            .btn-outline,
            .ui-button.btn-outline {
                padding: 0.625rem 1.25rem;
                background: transparent;
                border: 1px solid var(--border);
                color: var(--text-primary);
                border-radius: var(--radius-sm);
                font-weight: 600;
                transition: all 0.2s ease;
                cursor: pointer;
            }

            .btn-outline:hover,
            .ui-button.btn-outline:hover {
                background: var(--bg-hover);
                border-color: var(--accent);
                transform: translateY(-1px);
            }

            .btn-primary,
            .ui-button.btn-primary {
                padding: 0.625rem 1.25rem;
                background: linear-gradient(135deg, rgba(0, 225, 255, 0.15), rgba(0, 225, 255, 0.08));
                border: 1px solid rgba(0, 225, 255, 0.3);
                color: var(--text-primary);
                border-radius: var(--radius-sm);
                font-weight: 600;
                transition: all 0.2s ease;
                cursor: pointer;
            }

            .btn-primary:hover:not(:disabled),
            .ui-button.btn-primary:hover:not(.ui-state-disabled) {
                background: linear-gradient(135deg, rgba(0, 225, 255, 0.25), rgba(0, 225, 255, 0.15));
                border-color: rgba(0, 225, 255, 0.5);
                box-shadow: var(--shadow-accent);
                transform: translateY(-1px);
            }

            .btn-primary:disabled,
            .ui-button.btn-primary.ui-state-disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }

            .btn-remove,
            .ui-button.btn-remove {
                width: 32px;
                height: 32px;
                padding: 0;
                background: transparent;
                border: none;
                color: var(--danger);
                border-radius: var(--radius-sm);
                transition: all 0.2s ease;
                cursor: pointer;
                opacity: 0;
            }

            .selected-player-card:hover .btn-remove,
            .selected-player-card:hover .ui-button.btn-remove {
                opacity: 1;
            }

            .btn-remove:hover,
            .ui-button.btn-remove:hover {
                background: rgba(239, 68, 68, 0.1);
            }

            /* Dialog */
            .modern-dialog .ui-dialog-content {
                background: var(--bg-card);
                padding: 2rem;
            }

            .modern-dialog .ui-dialog-titlebar {
                background: var(--bg-card);
                border-bottom: 1px solid var(--border);
                padding: 1.5rem 2rem;
            }

            .modern-dialog .ui-dialog-title {
                color: var(--text-primary);
                font-size: 1.5rem;
                font-weight: 700;
            }

            .dialog-content {
                display: flex;
                flex-direction: column;
                gap: 1.5rem;
            }

            .dialog-info-box {
                display: flex;
                gap: 1rem;
                padding: 1.25rem;
                background: rgba(0, 225, 255, 0.08);
                border: 1px solid rgba(0, 225, 255, 0.2);
                border-radius: var(--radius);
            }

            .dialog-info-icon {
                width: 40px;
                height: 40px;
                flex-shrink: 0;
                background: rgba(0, 225, 255, 0.15);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .dialog-info-icon i {
                font-size: 1.25rem;
                color: var(--accent);
            }

            .dialog-info-title {
                font-size: 1rem;
                font-weight: 700;
                color: var(--text-primary);
                margin: 0 0 0.5rem 0;
            }

            .dialog-info-text {
                font-size: 0.875rem;
                color: var(--text-secondary);
                line-height: 1.6;
                margin: 0;
            }

            .dialog-section {
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }

            .dialog-section-header {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding-bottom: 0.75rem;
                border-bottom: 1px solid var(--border);
            }

            .dialog-section-header i {
                color: var(--accent);
                font-size: 1.1rem;
            }

            .dialog-section-header h3 {
                font-size: 1rem;
                font-weight: 600;
                color: var(--text-primary);
                margin: 0;
            }

            .dialog-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .dialog-field {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
            }

            .dialog-label {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                font-size: 0.875rem;
                font-weight: 600;
                color: var(--text-secondary);
            }

            .team-color {
                width: 12px;
                height: 12px;
                border-radius: 50%;
            }

            .team-color.blue {
                background: #3b82f6;
            }

            .team-color.red {
                background: #ef4444;
            }

            .dialog-input {
                width: 100%;
                padding: 0.75rem 1rem;
                background: var(--bg-primary);
                border: 1px solid var(--border);
                border-radius: var(--radius-sm);
                color: var(--text-primary);
                font-size: 0.9375rem;
                transition: all 0.2s ease;
            }

            .dialog-input:focus {
                border-color: var(--accent);
                box-shadow: 0 0 0 3px rgba(0, 225, 255, 0.1);
                outline: none;
            }

            .modern-radio-group {
                display: flex;
                flex-direction: column;
                gap: 0.75rem;
            }

            .modern-radio-group .ui-radiobutton-label {
                display: flex;
                align-items: center;
                padding: 1rem 1.25rem;
                background: rgba(255, 255, 255, 0.03);
                border: 1px solid var(--border);
                border-radius: var(--radius);
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .modern-radio-group .ui-radiobutton-label:hover {
                background: rgba(255, 255, 255, 0.06);
                border-color: var(--accent);
            }

            .dialog-hint {
                display: flex;
                align-items: start;
                gap: 0.5rem;
                padding: 0.75rem;
                background: rgba(255, 255, 255, 0.03);
                border-left: 2px solid var(--accent);
                border-radius: var(--radius-sm);
                font-size: 0.8125rem;
                color: var(--text-secondary);
            }

            .dialog-hint i {
                color: var(--accent);
                font-size: 0.875rem;
                margin-top: 2px;
            }

            .dialog-actions {
                display: flex;
                justify-content: flex-end;
                gap: 0.75rem;
                padding-top: 1.5rem;
                border-top: 1px solid var(--border);
            }

            .btn-dialog-cancel,
            .ui-button.btn-dialog-cancel {
                min-width: 140px;
                padding: 0.75rem 1.5rem;
                background: transparent;
                border: 1px solid var(--border);
                color: var(--text-secondary);
                border-radius: var(--radius-sm);
                font-weight: 600;
                transition: all 0.2s ease;
            }

            .btn-dialog-cancel:hover,
            .ui-button.btn-dialog-cancel:hover {
                background: var(--bg-hover);
                border-color: var(--text-secondary);
                color: var(--text-primary);
            }

            .btn-dialog-primary,
            .ui-button.btn-dialog-primary {
                min-width: 140px;
                padding: 0.75rem 1.5rem;
                background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.08));
                border: 1px solid rgba(34, 197, 94, 0.3);
                color: var(--text-primary);
                border-radius: var(--radius-sm);
                font-weight: 600;
                transition: all 0.2s ease;
            }

            .btn-dialog-primary:hover,
            .ui-button.btn-dialog-primary:hover {
                background: linear-gradient(135deg, rgba(34, 197, 94, 0.25), rgba(34, 197, 94, 0.15));
                border-color: rgba(34, 197, 94, 0.5);
                box-shadow: 0 8px 20px rgba(34, 197, 94, 0.2);
            }

            /* Responsividade */
            @media (max-width: 768px) {
                .header-content,
                .actions-buttons,
                .dialog-actions {
                    flex-direction: column;
                }

                .dialog-grid {
                    grid-template-columns: 1fr;
                }

                .btn-outline,
                .btn-primary,
                .btn-dialog-cancel,
                .btn-dialog-primary {
                    width: 100%;
                }
            }
        </style>
    </ui:define>
</ui:composition>
