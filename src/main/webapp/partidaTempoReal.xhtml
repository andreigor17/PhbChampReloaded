<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="vercel.xhtml">

    <ui:define name="content">
        <h:form id="formPartidaTempoReal">
            
            <!-- Header -->
            <div class="section-header">
                <div>
                    <h1 class="section-title">
                        <i class="pi pi-eye mr-2"></i>
                        Partida em Tempo Real - CS2
                    </h1>
                    <p class="section-description">
                        Monitoramento ao vivo da partida via logs do servidor CS2
                    </p>
                </div>
                <div class="header-actions">
                    <p:outputPanel id="statusPanel">
                        <div class="connection-badge #{managerPartidaTempoReal.matchData.conectado ? 'connected' : 'disconnected'}">
                            <span class="status-dot"></span>
                            <span class="status-text">#{managerPartidaTempoReal.matchData.conectado ? 'Conectado' : 'Desconectado'}</span>
                        </div>
                    </p:outputPanel>
                    <p:commandButton value="Atualizar" 
                                     icon="pi pi-refresh" 
                                     action="#{managerPartidaTempoReal.atualizarDados()}"
                                     update="@form"
                                     styleClass="p-button-outlined ml-2" />
                </div>
            </div>

            <!-- Informações Gerais da Partida -->
            <div class="grid mb-4">
                <div class="col-12 md:col-3">
                    <p:card styleClass="info-card">
                        <f:facet name="title">
                            <i class="pi pi-map mr-2"></i>
                            Mapa
                        </f:facet>
                        <div class="info-value">
                            #{managerPartidaTempoReal.matchData.mapa != null ? managerPartidaTempoReal.matchData.mapa : 'N/A'}
                        </div>
                    </p:card>
                </div>
                
                <div class="col-12 md:col-3">
                    <p:card styleClass="info-card #{managerPartidaTempoReal.matchData.fase == 'live' ? 'live-round' : ''}">
                        <f:facet name="title">
                            <i class="pi pi-clock mr-2"></i>
                            Tempo do Round
                        </f:facet>
                        <div class="info-value timer-value">
                            #{managerPartidaTempoReal.matchData.tempoRoundFormatado}
                        </div>
                        <div class="fase-badge fase-#{managerPartidaTempoReal.matchData.fase != null ? managerPartidaTempoReal.matchData.fase : 'unknown'}">
                            #{managerPartidaTempoReal.matchData.fase != null ? 
                                (managerPartidaTempoReal.matchData.fase == 'freezetime' ? 'FREEZE TIME' : 
                                 managerPartidaTempoReal.matchData.fase == 'live' ? 'EM ANDAMENTO' :
                                 managerPartidaTempoReal.matchData.fase == 'over' ? 'FINALIZADO' :
                                 managerPartidaTempoReal.matchData.fase.toUpperCase()) : 'N/A'}
                        </div>
                    </p:card>
                </div>
                
                <div class="col-12 md:col-3">
                    <p:card styleClass="info-card">
                        <f:facet name="title">
                            <i class="pi pi-circle mr-2"></i>
                            Round Atual
                        </f:facet>
                        <div class="info-value">
                            #{managerPartidaTempoReal.matchData.roundAtual != null ? managerPartidaTempoReal.matchData.roundAtual : 'N/A'}
                        </div>
                    </p:card>
                </div>
                
                <div class="col-12 md:col-3">
                    <p:card styleClass="info-card">
                        <f:facet name="title">
                            <i class="pi pi-info-circle mr-2"></i>
                            Fase
                        </f:facet>
                        <div class="info-value fase-text">
                            #{managerPartidaTempoReal.matchData.fase != null ? 
                                (managerPartidaTempoReal.matchData.fase == 'freezetime' ? 'FREEZE TIME' : 
                                 managerPartidaTempoReal.matchData.fase == 'live' ? 'ROUND EM ANDAMENTO' :
                                 managerPartidaTempoReal.matchData.fase == 'over' ? 'ROUND FINALIZADO' :
                                 managerPartidaTempoReal.matchData.fase.toUpperCase()) : 'N/A'}
                        </div>
                    </p:card>
                </div>
            </div>

            <!-- Última Kill -->
            <div class="grid mb-4">
                <div class="col-12">
                    <p:card styleClass="info-card">
                        <f:facet name="title">
                            <i class="pi pi-crosshairs mr-2"></i>
                            Última Kill
                        </f:facet>

                        <h:panelGroup rendered="#{managerPartidaTempoReal.matchData.ultimaKillKiller != null}">
                            <div class="bomb-status">
                                <div class="bomb-info-row">
                                    <div class="bomb-state">
                                        <strong>Killer:</strong>
                                        <span class="bomb-state-text">
                                            #{managerPartidaTempoReal.matchData.ultimaKillKiller}
                                        </span>
                                    </div>
                                    <div class="bomb-state">
                                        <strong>Vítima:</strong>
                                        <span class="bomb-state-text">
                                            #{managerPartidaTempoReal.matchData.ultimaKillVictim}
                                        </span>
                                    </div>
                                    <div class="bomb-state">
                                        <strong>Arma:</strong>
                                        <span class="bomb-state-text">
                                            #{managerPartidaTempoReal.matchData.ultimaKillWeapon}
                                        </span>
                                    </div>
                                </div>
                                <div class="bomb-info-row" rendered="#{managerPartidaTempoReal.matchData.ultimaKillHeadshot}">
                                    <div class="bomb-state">
                                        <span class="bomb-state-text">HEADSHOT</span>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>

                        <h:panelGroup rendered="#{managerPartidaTempoReal.matchData.ultimaKillKiller == null}">
                            <div class="empty-state">
                                <i class="pi pi-crosshairs"></i>
                                <p>Nenhuma kill registrada ainda</p>
                            </div>
                        </h:panelGroup>
                    </p:card>
                </div>
            </div>

            <!-- Placar -->
            <div class="grid mb-4">
                <div class="col-12">
                    <p:card styleClass="score-card">
                        <div class="score-container">
                            <div class="team-score team-ct">
                                <div class="team-header">
                                    <i class="pi pi-shield"></i>
                                    <span>Counter-Terrorists</span>
                                </div>
                                <div class="score-value">#{managerPartidaTempoReal.matchData.scoreCT}</div>
                            </div>
                            
                            <div class="score-separator">
                                <span>VS</span>
                            </div>
                            
                            <div class="team-score team-t">
                                <div class="team-header">
                                    <i class="pi pi-bomb"></i>
                                    <span>Terrorists</span>
                                </div>
                                <div class="score-value">#{managerPartidaTempoReal.matchData.scoreT}</div>
                            </div>
                        </div>
                    </p:card>
                </div>
            </div>

            <!-- Status da Bomba -->
            <div class="grid mb-4" rendered="#{managerPartidaTempoReal.matchData.estadoBomba != null and managerPartidaTempoReal.matchData.estadoBomba != 'none'}">
                <div class="col-12">
                    <p:card styleClass="bomb-card #{managerPartidaTempoReal.matchData.estadoBomba == 'planted' ? 'bomb-planted' : ''}">
                        <f:facet name="title">
                            <i class="pi pi-bomb mr-2"></i>
                            Status da Bomba
                        </f:facet>
                        <div class="bomb-status">
                            <div class="bomb-info-row">
                                <div class="bomb-state">
                                    <strong>Estado:</strong> 
                                    <span class="bomb-state-text">#{managerPartidaTempoReal.matchData.estadoBomba == 'planted' ? 'PLANTADA' : managerPartidaTempoReal.matchData.estadoBomba}</span>
                                </div>
                                <div class="bomb-site" rendered="#{managerPartidaTempoReal.matchData.estadoBomba == 'planted' and managerPartidaTempoReal.matchData.bombsite != null}">
                                    <i class="pi pi-map-marker"></i>
                                    <span>Bombsite #{managerPartidaTempoReal.matchData.bombsite}</span>
                                </div>
                            </div>
                            <div class="bomb-timer-container" rendered="#{managerPartidaTempoReal.matchData.estadoBomba == 'planted'}">
                                <div class="bomb-timer-label">⏱️ Tempo Restante para Explosão:</div>
                                <div class="bomb-timer-value timer-danger">#{managerPartidaTempoReal.matchData.tempoBombaRestanteFormatado}</div>
                            </div>
                            <div class="bomb-planter" rendered="#{managerPartidaTempoReal.matchData.quemPlantouBomba != null}">
                                <i class="pi pi-user"></i>
                                <span>Plantada por: <strong>#{managerPartidaTempoReal.matchData.quemPlantouBomba}</strong></span>
                            </div>
                        </div>
                    </p:card>
                </div>
            </div>

            <!-- Players e Eventos -->
            <div class="grid">
                <!-- Time CT -->
                <div class="col-12 lg:col-4">
                    <p:card styleClass="team-card team-ct-card">
                        <f:facet name="title">
                            <i class="pi pi-shield mr-2"></i>
                            Counter-Terrorists (#{managerPartidaTempoReal.matchData.playersCT.size()})
                        </f:facet>
                        
                        <div class="players-list">
                            <ui:repeat value="#{managerPartidaTempoReal.matchData.playersCT}" var="player">
                                <div class="player-card">
                                    <div class="player-header">
                                        <div class="player-name">#{player.nome}</div>
                                        <div class="player-status #{player.alive ? 'alive' : 'dead'}">
                                            <i class="pi #{player.alive ? 'pi-heart' : 'pi-times'}"></i>
                                            <span>#{player.alive ? 'Vivo' : 'Morto'}</span>
                                        </div>
                                    </div>
                                    <div class="player-stats">
                                        <div class="stat-item">
                                            <i class="pi pi-heart"></i>
                                            <span>HP: <strong>#{player.health}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-shield"></i>
                                            <span>Armor: <strong>#{player.armor}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-crosshairs"></i>
                                            <span>K: <strong>#{player.kills}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-times-circle"></i>
                                            <span>D: <strong>#{player.deaths}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-check-circle"></i>
                                            <span>A: <strong>#{player.assists}</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </ui:repeat>
                            
                            <div class="empty-state" rendered="#{empty managerPartidaTempoReal.matchData.playersCT}">
                                <i class="pi pi-users"></i>
                                <p>Nenhum jogador CT conectado</p>
                            </div>
                        </div>
                    </p:card>
                </div>

                <!-- Time T -->
                <div class="col-12 lg:col-4">
                    <p:card styleClass="team-card team-t-card">
                        <f:facet name="title">
                            <i class="pi pi-bomb mr-2"></i>
                            Terrorists (#{managerPartidaTempoReal.matchData.playersT.size()})
                        </f:facet>
                        
                        <div class="players-list">
                            <ui:repeat value="#{managerPartidaTempoReal.matchData.playersT}" var="player">
                                <div class="player-card">
                                    <div class="player-header">
                                        <div class="player-name">#{player.nome}</div>
                                        <div class="player-status #{player.alive ? 'alive' : 'dead'}">
                                            <i class="pi #{player.alive ? 'pi-heart' : 'pi-times'}"></i>
                                            <span>#{player.alive ? 'Vivo' : 'Morto'}</span>
                                        </div>
                                    </div>
                                    <div class="player-stats">
                                        <div class="stat-item">
                                            <i class="pi pi-heart"></i>
                                            <span>HP: <strong>#{player.health}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-shield"></i>
                                            <span>Armor: <strong>#{player.armor}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-crosshairs"></i>
                                            <span>K: <strong>#{player.kills}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-times-circle"></i>
                                            <span>D: <strong>#{player.deaths}</strong></span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="pi pi-check-circle"></i>
                                            <span>A: <strong>#{player.assists}</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </ui:repeat>
                            
                            <div class="empty-state" rendered="#{empty managerPartidaTempoReal.matchData.playersT}">
                                <i class="pi pi-users"></i>
                                <p>Nenhum jogador T conectado</p>
                            </div>
                        </div>
                    </p:card>
                </div>

                <!-- Eventos Recentes -->
                <div class="col-12 lg:col-4">
                    <p:card styleClass="events-card">
                        <f:facet name="title">
                            <i class="pi pi-list mr-2"></i>
                            Eventos Recentes
                        </f:facet>
                        
                        <div class="events-list">
                            <ui:repeat value="#{managerPartidaTempoReal.matchData.eventosRecentes}" var="evento">
                                <div class="event-item">
                                    <i class="pi pi-circle-fill event-dot"></i>
                                    <span class="event-text">#{evento}</span>
                                </div>
                            </ui:repeat>
                            
                            <div class="empty-state" rendered="#{empty managerPartidaTempoReal.matchData.eventosRecentes}">
                                <i class="pi pi-bell"></i>
                                <p>Nenhum evento ainda</p>
                                <p class="empty-subtext">Os eventos aparecerão aqui em tempo real</p>
                            </div>
                        </div>
                    </p:card>
                </div>
            </div>

            <!-- Última Atualização -->
            <div class="grid mt-3">
                <div class="col-12">
                    <p class="update-info">
                        <i class="pi pi-clock mr-2"></i>
                        Última atualização: #{managerPartidaTempoReal.matchData.ultimaAtualizacao != null ? managerPartidaTempoReal.matchData.ultimaAtualizacao : 'Nunca'}
                    </p>
                </div>
            </div>

            <!-- Polling automático - sempre ativo -->
            <p:poll interval="1" 
                   listener="#{managerPartidaTempoReal.atualizarDados()}" 
                   update="@form" />
        </h:form>

        <!-- Script para manter sessão ativa (evita expiração) -->
        <script type="text/javascript">
            // Mantém a sessão ativa fazendo requisições periódicas
            // Requisições a cada 5 minutos (300000ms) para não sobrecarregar o servidor
            // Isso garante que a sessão não expire mesmo com 1 hora de timeout configurado
            (function() {
                var keepAliveInterval = 5 * 60 * 1000; // 5 minutos em milissegundos
                
                function keepSessionAlive() {
                    try {
                        // Faz uma requisição AJAX simples para tocar na sessão
                        // Usa PrimeFaces se disponível, senão usa XMLHttpRequest
                        if (typeof PrimeFaces !== 'undefined' && PrimeFaces.ajax) {
                            PrimeFaces.ajax.RequestQueue.add({
                                source: document.getElementById('formPartidaTempoReal'),
                                process: '@none',
                                update: '@none',
                                async: true,
                                global: false,
                                oncomplete: function() {
                                    console.log('Sessão mantida ativa: ' + new Date().toLocaleTimeString());
                                }
                            });
                        } else {
                            // Fallback: requisição XMLHttpRequest simples
                            var xhr = new XMLHttpRequest();
                            xhr.open('GET', window.location.href.split('?')[0] + '?keepAlive=' + Date.now(), true);
                            xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
                            xhr.onreadystatechange = function() {
                                if (xhr.readyState === 4 && xhr.status === 200) {
                                    console.log('Sessão mantida ativa: ' + new Date().toLocaleTimeString());
                                }
                            };
                            xhr.send();
                        }
                    } catch (e) {
                        console.warn('Erro ao manter sessão ativa:', e);
                    }
                }
                
                // Inicia o keep-alive imediatamente e depois a cada 5 minutos
                keepSessionAlive();
                var keepAliveTimer = setInterval(keepSessionAlive, keepAliveInterval);
                
                // Também mantém ativo quando a página recebe foco (usuário volta à aba)
                window.addEventListener('focus', function() {
                    keepSessionAlive();
                });
                
                // Limpa o timer quando a página é fechada (boa prática)
                window.addEventListener('beforeunload', function() {
                    if (keepAliveTimer) {
                        clearInterval(keepAliveTimer);
                    }
                });
            })();
        </script>

        <style type="text/css">
            /* Section Header */
            .section-header {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 2rem;
                padding: 1.5rem;
                background: linear-gradient(135deg, var(--bg-800), var(--bg-900));
                border-radius: var(--radius);
                border: 1px solid var(--border);
                box-shadow: var(--shadow);
            }

            .section-description {
                color: var(--text-300);
                margin: 0.5rem 0 0;
                font-size: 0.9rem;
            }

            .header-actions {
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }

            /* Connection Badge */
            .connection-badge {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.5rem 1rem;
                border-radius: 20px;
                font-weight: 600;
                font-size: 0.875rem;
                transition: all 0.3s;
            }

            .connection-badge.connected {
                background: rgba(34, 197, 94, 0.1);
                border: 2px solid var(--success);
                color: var(--success);
            }

            .connection-badge.disconnected {
                background: rgba(239, 68, 68, 0.1);
                border: 2px solid #ef4444;
                color: #ef4444;
            }

            .status-dot {
                width: 8px;
                height: 8px;
                border-radius: 50%;
                animation: blink 1.5s infinite;
            }

            .connected .status-dot {
                background: var(--success);
                box-shadow: 0 0 8px var(--success);
            }

            .disconnected .status-dot {
                background: #ef4444;
                box-shadow: 0 0 8px #ef4444;
            }

            /* Info Cards */
            .info-card {
                text-align: center;
                transition: all 0.3s;
            }

            .info-card.live-round {
                border: 2px solid rgba(34, 197, 94, 0.5);
                animation: pulse-live 2s infinite;
            }

            .info-value {
                font-size: 2rem;
                font-weight: 700;
                color: var(--accent);
                margin-top: 0.5rem;
            }

            .timer-value {
                font-family: 'Consolas', 'Monaco', monospace;
                color: var(--accent-2);
            }

            .fase-badge {
                margin-top: 0.5rem;
                padding: 0.25rem 0.75rem;
                border-radius: 12px;
                font-size: 0.75rem;
                font-weight: 600;
                background: rgba(255,255,255,0.1);
                color: var(--text-200);
                display: inline-block;
            }

            .fase-text {
                text-transform: uppercase;
                font-size: 1.2rem;
            }

            /* Score Card */
            .score-card {
                background: linear-gradient(135deg, var(--bg-800), var(--bg-900)) !important;
            }

            .score-container {
                display: flex;
                align-items: center;
                justify-content: space-around;
                padding: 2rem;
            }

            .team-score {
                flex: 1;
                text-align: center;
            }

            .team-header {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 0.5rem;
                font-size: 1.1rem;
                font-weight: 600;
                margin-bottom: 1rem;
                color: var(--text-200);
            }

            .team-ct .team-header {
                color: #4a9eff;
            }

            .team-t .team-header {
                color: #ff6b35;
            }

            .score-value {
                font-size: 4rem;
                font-weight: 800;
                color: var(--text-100);
            }

            .team-ct .score-value {
                color: #4a9eff;
            }

            .team-t .score-value {
                color: #ff6b35;
            }

            .score-separator {
                font-size: 1.5rem;
                font-weight: 700;
                color: var(--text-300);
                padding: 0 2rem;
            }

            /* Bomb Card */
            .bomb-card {
                background: linear-gradient(135deg, var(--bg-800), var(--bg-900)) !important;
            }

            .bomb-card.bomb-planted {
                background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), var(--bg-900)) !important;
                border: 2px solid rgba(255, 107, 53, 0.7) !important;
                animation: pulse-bomb 2s infinite;
            }

            .bomb-status {
                display: flex;
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }

            .bomb-info-row {
                display: flex;
                justify-content: space-between;
                align-items: center;
                flex-wrap: wrap;
                gap: 1rem;
            }

            .bomb-state {
                font-size: 1.2rem;
                color: var(--text-100);
            }

            .bomb-state-text {
                text-transform: uppercase;
                font-weight: 700;
                color: #ff6b35;
            }

            .bomb-site {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.5rem 1rem;
                background: rgba(255, 107, 53, 0.15);
                border-radius: 20px;
                font-weight: 600;
                color: #ff6b35;
            }

            .bomb-timer-container {
                text-align: center;
                padding: 1rem;
                background: rgba(0,0,0,0.3);
                border-radius: 10px;
            }

            .bomb-timer-label {
                font-size: 0.9rem;
                color: var(--text-300);
                margin-bottom: 0.5rem;
            }

            .bomb-timer-value {
                font-size: 2.5rem;
                font-weight: 800;
                font-family: 'Consolas', 'Monaco', monospace;
            }

            .timer-danger {
                color: #ef4444;
                animation: blink 1s infinite;
            }

            .bomb-planter {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 0.5rem;
                padding: 0.75rem;
                background: rgba(255,255,255,0.05);
                border-radius: 10px;
                color: var(--text-200);
            }

            .bomb-planter strong {
                color: var(--text-100);
            }

            /* Team Cards */
            .team-card {
                height: 100%;
            }

            .team-ct-card {
                border-left: 4px solid #4a9eff;
            }

            .team-t-card {
                border-left: 4px solid #ff6b35;
            }

            .players-list {
                display: flex;
                flex-direction: column;
                gap: 0.75rem;
                max-height: 500px;
                overflow-y: auto;
            }

            .players-list::-webkit-scrollbar {
                width: 6px;
            }

            .players-list::-webkit-scrollbar-track {
                background: rgba(255,255,255,0.02);
                border-radius: 4px;
            }

            .players-list::-webkit-scrollbar-thumb {
                background: rgba(0,225,255,0.3);
                border-radius: 4px;
            }

            /* Player Card */
            .player-card {
                background: rgba(255,255,255,0.03);
                border: 1px solid var(--border);
                border-radius: 10px;
                padding: 1rem;
                transition: all 0.2s ease;
            }

            .player-card:hover {
                background: rgba(255,255,255,0.06);
                border-color: var(--accent);
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            }

            .player-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 0.75rem;
            }

            .player-name {
                font-weight: 600;
                color: var(--text-100);
                font-size: 1rem;
            }

            .player-status {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                font-size: 0.875rem;
                padding: 0.25rem 0.75rem;
                border-radius: 20px;
                font-weight: 600;
            }

            .player-status.alive {
                background: rgba(34, 197, 94, 0.15);
                color: var(--success);
                border: 1px solid rgba(34, 197, 94, 0.3);
            }

            .player-status.dead {
                background: rgba(239, 68, 68, 0.15);
                color: #ef4444;
                border: 1px solid rgba(239, 68, 68, 0.3);
            }

            .player-stats {
                display: flex;
                flex-wrap: wrap;
                gap: 1rem;
            }

            .stat-item {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                color: var(--text-200);
                font-size: 0.875rem;
            }

            .stat-item i {
                color: var(--accent);
            }

            .stat-item strong {
                color: var(--text-100);
            }

            /* Events Card */
            .events-card {
                height: 100%;
                border-left: 4px solid var(--accent);
            }

            .events-list {
                display: flex;
                flex-direction: column;
                gap: 0.75rem;
                max-height: 500px;
                overflow-y: auto;
            }

            .events-list::-webkit-scrollbar {
                width: 6px;
            }

            .events-list::-webkit-scrollbar-track {
                background: rgba(255,255,255,0.02);
                border-radius: 4px;
            }

            .events-list::-webkit-scrollbar-thumb {
                background: rgba(0,225,255,0.3);
                border-radius: 4px;
            }

            .event-item {
                display: flex;
                align-items: flex-start;
                gap: 0.75rem;
                padding: 0.75rem;
                background: rgba(255,255,255,0.03);
                border-left: 3px solid var(--accent);
                border-radius: 5px;
                transition: all 0.2s;
            }

            .event-item:hover {
                background: rgba(255,255,255,0.06);
                transform: translateX(5px);
            }

            .event-dot {
                font-size: 0.5rem;
                color: var(--accent);
                margin-top: 0.5rem;
                flex-shrink: 0;
            }

            .event-text {
                color: var(--text-200);
                font-size: 0.875rem;
                line-height: 1.5;
                flex: 1;
            }

            /* Empty State */
            .empty-state {
                text-align: center;
                padding: 3rem 1rem;
                color: var(--text-300);
            }

            .empty-state i {
                font-size: 3rem;
                color: var(--text-300);
                margin-bottom: 1rem;
            }

            .empty-state p {
                margin: 0;
                font-size: 1rem;
            }

            .empty-subtext {
                font-size: 0.875rem !important;
                margin-top: 0.5rem !important;
                color: var(--text-400) !important;
            }

            /* Update Info */
            .update-info {
                text-align: center;
                color: var(--text-300);
                font-size: 0.875rem;
                margin: 0;
            }

            /* Animations */
            @keyframes blink {
                0%, 50% {
                    opacity: 1;
                }
                51%, 100% {
                    opacity: 0.3;
                }
            }

            @keyframes pulse-bomb {
                0%, 100% {
                    box-shadow: 0 0 0 0 rgba(255, 107, 53, 0.4);
                }
                50% {
                    box-shadow: 0 0 0 10px rgba(255, 107, 53, 0);
                }
            }

            @keyframes pulse-live {
                0%, 100% {
                    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
                }
                50% {
                    box-shadow: 0 0 0 8px rgba(34, 197, 94, 0);
                }
            }

            /* Responsive */
            @media (max-width: 768px) {
                .score-container {
                    flex-direction: column;
                    gap: 1rem;
                }

                .score-separator {
                    padding: 1rem 0;
                }

                .section-header {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 1rem;
                }

                .bomb-info-row {
                    flex-direction: column;
                    align-items: flex-start;
                }
            }
        </style>
    </ui:define>
</ui:composition>
